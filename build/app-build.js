(()=>{"use strict";const e=function(e,t,n){const o=document.createElement("div");o.classList.add("toast-container","position-fixed","w-100","h-100","d-flex","justify-content-center","align-items-center");const c=document.createElement("section");c.classList.add("toast","show");const s=document.createElement("header");s.classList.add("toast-header","text-bg-primary");const a=document.createElement("h2");if(a.classList.add("me-auto","mb-0"),a.style.fontSize="1rem",a.textContent=e,s.appendChild(a),!n){const e=document.createElement("button");e.classList.add("btn-close"),e.type="button",e.dataset.bsDismiss="toast",s.appendChild(e),e.onclick=function(){document.body.removeChild(o),document.querySelector(".container").style.zIndex=0}}c.appendChild(s);const d=document.createElement("article");d.classList.add("toast-body");const l=document.createElement("p");if(l.textContent=t,d.appendChild(l),n){const e=document.createElement("button");e.classList.add("btn","btn-primary"),e.textContent="Play Again!",d.appendChild(e),e.onclick=function(){document.querySelector(".load-screen").classList.remove("d-none"),localStorage.setItem("quiz-status",!1),document.querySelector(".quiz-screen").remove(),document.querySelector(".control-group").remove(),document.body.removeChild(o)}}c.appendChild(d),o.appendChild(c),document.body.insertAdjacentElement("afterbegin",o)};let t=0;const n=async function(){const n=localStorage.getItem("questionLevel");try{const o=await fetch(`https://opentdb.com/api.php?amount=10&category=18&difficulty=${n}&type=multiple`);o.ok&&(!function(e){const n=document.createDocumentFragment(),o=document.createElement("div");o.classList.add("carousel-inner","quiz-screen"),n.appendChild(o);for(let n=0;n<e.length;n++){const{question:c,correct_answer:s,incorrect_answers:a}=e[n],d=document.createElement("section");d.classList.add("carousel-item"),d.id=`section${n+1}`,0===n&&d.classList.add("active"),o.appendChild(d);const l=document.createElement("h2");l.innerHTML=c,d.appendChild(l);const r=document.createElement("div");r.classList.add("sol-group"),d.appendChild(r);const i=[...a,s];i.sort((()=>Math.random()-.5));for(let e=0;e<4;e++){const o=document.createElement("input"),c=document.createElement("label");o.type="radio",o.classList.add("btn-check"),o.name=`section${n+1}-radio`,o.id=`section${n+1}-radio${e+1}`,o.autocomplete="off",o.value=i[e],r.appendChild(o),c.classList.add("btn","btn-outline-light"),c.htmlFor=`section${n+1}-radio${e+1}`,c.innerHTML=i[e],r.appendChild(c),o.onclick=function(){this.value===s&&t++}}}const c=document.createElement("div");c.classList.add("control-group"),n.appendChild(c);const s=document.createElement("button");s.type="button",s.dataset.bsTarget="#carouselContainer",s.classList.add("btn","btn-dark"),s.dataset.bsSlide="prev",s.textContent="Prev",c.appendChild(s);const a=document.createElement("button");a.type="button",a.dataset.bsTarget="#carouselContainer",a.classList.add("btn","btn-primary"),a.dataset.bsSlide="next",a.textContent="Next",c.appendChild(a),document.getElementById("carouselContainer").appendChild(n)}((await o.json()).results),function(){const n=document.querySelectorAll(".quiz-screen .carousel-item"),o=document.querySelector(".control-group .btn-primary");document.getElementById("carouselContainer").addEventListener("slid.bs.carousel",(()=>{const c=n[n.length-1];c?.classList.contains("active")?(o.textContent="Submit",o.classList.replace("btn-primary","btn-success"),o.onclick=function(){e("Score card",`You scored ${t} / 10.`,!0),t=0}):(o.textContent="Next",o.classList.replace("btn-success","btn-primary"))}))}(),document.querySelector(".quiz-spinner").classList.add("d-none"))}catch(e){console.error(e)}};"true"===localStorage.getItem("quiz-status")?(document.querySelector(".quiz-menu").classList.remove("d-none"),document.querySelector(".load-screen").classList.add("d-none"),n()):(document.querySelector(".quiz-menu").classList.add("d-none"),document.querySelector(".load-screen").classList.remove("d-none")),function(){const e=document.querySelectorAll(".level-box");function t(t){const n=t.currentTarget,o=n.classList[1].split("-")[0];e.forEach((e=>{e!==n&&e.classList.remove("active")})),n.classList.add("active"),localStorage.setItem("questionLevel",o)}e.forEach((e=>{e.addEventListener("click",t);const n=e.classList[1].split("-")[0];localStorage.getItem("questionLevel")===n&&e.classList.add("active")}))}(),document.querySelector(".play-btn").addEventListener("click",(()=>{if(!localStorage.getItem("questionLevel"))return e("Alert Message","Choose the difficulty level first to continue.",!1),void(document.querySelector(".container").style.zIndex=-9999);document.querySelector(".quiz-menu").classList.remove("d-none"),document.querySelector(".load-screen").classList.add("d-none"),document.querySelector(".quiz-spinner").classList.remove("d-none"),localStorage.setItem("quiz-status",!0),n()}))})();